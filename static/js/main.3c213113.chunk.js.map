{"version":3,"sources":["AdresseList.js","DawaSearcher.js","ErrorComp.js","SuccessAlert.js","context/FormContext.js","components/TextInput.js","components/ImageUpload.js","components/DateInput.js","components/SelectInput.js","components/SubmitButton.js","Formular.js","service.js","App.js","reportWebVitals.js","index.js"],"names":["AdresseList","searchTerm","handleChoice","setTekst","komkode","useState","adresses","setAdresses","setDoSearch","useEffect","length","url","console","log","fetch","then","res","json","data","comps","map","item","index","ListItem","key","tekst","value","button","onClick","e","handleClick","ListItemText","primary","List","component","style","maxHeight","overflow","DawaSearcher","size","setAdressData","adresseTekst","setAdresseTekst","showAutocompleteList","setShowAutocompleteList","adgangsadresse","x","y","setItem","Grid","xs","TextField","id","InputLabelProps","shrink","label","Typography","variant","fullWidth","onChange","target","InputProps","endAdornment","InputAdornment","position","IconButton","Clear","useStyles","makeStyles","theme","root","width","marginTop","spacing","AlertComp","props","classes","errors","closeAlert","list","err","className","Alert","severity","onClose","SuccessAlert","ansoeger_mail","ansoeger_navn","ansoeger_tlf","ansoegn_indsendt","ansvarl_kontaktmail","ansvarl_kontaktpers","ansvarl_kontaktlf","overnat_adresse","overnat_postnr","overnat_by","overnat_antal","overnat_kommune","overnat_lokaler","overnat_navn","overnat_over_150","overnat_slut_dato","Date","overnat_slut_tid","overnat_start_dato","overnat_start_tid","overnat_tegning","overnat_tegning_filnavn","the_geom","x_coord","y_coord","overnat_kontaktpers","overnat_kontakttlf","FormularContext","React","createContext","FormularProvider","state","setState","setValue","prevState","Provider","keyValues","Object","keys","forEach","k","children","TextInput","title","type","evtHandler","useContext","handleChange","ImageUpload","str","setImageSrc","fileRef","useRef","setValues","reader","FileReader","handleReaderLoaded","result","replace","color","htmlFor","display","name","accept","files","file","onload","readAsDataURL","ref","aria-label","current","click","Chip","substring","onDelete","DateInput","format","margin","date","startDate","slutDato","endDate","KeyboardButtonProps","cancelLabel","TimeInput","ampm","time","DateTimeInputs","kommuner","nummer","SelectInput","setKomkode","select","split","nr","option","MenuItem","SubmitButton","Button","flexGrow","paper","padding","textAlign","palette","text","secondary","formatedTimestamp","d","toISOString","toTimeString","Formular","resetForm","gid","schema","yup","shape","required","matches","email","min","positive","integer","formErrors","setFormErrors","successMessage","setSuccessMessage","utils","DateFnsUtils","locale","daLocale","Container","maxWidth","gutterBottom","container","adress","streetname","adressname","postnr","postnrnavn","Checkbox","checked","formData","validate","abortEarly","valid","columns","join","values","buildQuery","toString","axios","post","postFormData","window","scrollTo","top","behavior","catch","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3c213113.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nexport default function AdresseList({\n  searchTerm,\n  setTekst,\n  handleChoice,\n  komkode,\n}) {\n  const [adresses, setAdresses] = useState([]);\n  const [doSearch, setDoSearch] = useState(true);\n  const handleClick = (item) => {\n    // console.log(tekst);\n    //setTekst(tekst);\n    handleChoice(item);\n    setDoSearch(false);\n  };\n\n  useEffect(() => {\n    if (searchTerm.length < 3) return;\n    const url = `https://dawa.aws.dk/adgangsadresser/autocomplete?q=${searchTerm}&type=adgangsadresse&side=1&per_side=105&noformat=1&kommunekode=${komkode}&srid=25832`;\n    console.log(url);\n    fetch(url).then((res) => {\n      res.json().then((data) => {\n        setAdresses(data);\n      });\n    });\n  }, [searchTerm]);\n\n  let comps = adresses.map((item, index) => (\n    <ListItem\n      key={`${index}-${item.tekst}`}\n      value={item.tekst}\n      button\n      onClick={(e) => handleClick(item)}\n    >\n      <ListItemText primary={item.tekst} />\n    </ListItem>\n  ));\n\n  return (\n    <List component='nav' style={{ maxHeight: 400, overflow: \"auto\" }}>\n      {comps}\n    </List>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AdresseList from \"./AdresseList\";\nimport { IconButton } from \"@material-ui/core\";\nimport { Clear, Delete } from \"@material-ui/icons\";\n\nexport default function DawaSearcher({\n  size,\n  setAdressData,\n  komkode,\n  adresseTekst,\n  setAdresseTekst,\n}) {\n  const [data, setData] = useState([]);\n  const [showAutocompleteList, setShowAutocompleteList] = useState(true);\n  const [tekst, setTekst] = useState(\"\");\n  const [_item, setItem] = useState({\n    tekst: \"\",\n    adgangsadresse: { x: \"\", y: \"\" },\n  });\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  /*\n     Called when inputing in the search box / adresse field\n\n     - setShowList : \n    */\n  const handleChange = (e) => {\n    setShowAutocompleteList(true);\n    setAdresseTekst(e.target.value);\n  };\n\n  const handleChoice = (item) => {\n    setShowAutocompleteList(false);\n    setItem(item);\n    setAdresseTekst(item.tekst);\n    setAdressData(item); // pass text and location to the parent component\n  };\n\n  return (\n    <Grid item xs={size}>\n      <TextField\n        id='standard-basic'\n        InputLabelProps={{ shrink: true }}\n        label={\n          <Typography variant='h6' component='h3'>\n            Overnatningstedets adresse\n          </Typography>\n        }\n        fullWidth\n        value={adresseTekst}\n        onChange={handleChange}\n        InputProps={{\n          endAdornment: (\n            <InputAdornment position='end'>\n              <IconButton\n                onClick={(e) => {\n                  setAdresseTekst(\"\");\n                  setAdressData(\"\");\n                  setShowAutocompleteList(false);\n                }}\n              >\n                <Clear />\n              </IconButton>\n            </InputAdornment>\n          ),\n        }}\n      />\n      {showAutocompleteList && (\n        <AdresseList\n          searchTerm={adresseTekst}\n          setTekst={setAdresseTekst}\n          handleChoice={handleChoice}\n          komkode={komkode}\n        />\n      )}\n    </Grid>\n  );\n}\n","import React from 'react';\nimport Alert from '@material-ui/lab/Alert';\nimport { makeStyles } from '@material-ui/core/styles';  \nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n      '& > * + *': {\n        marginTop: theme.spacing(2),\n      },\n    },\n  }));\n\nexport default function AlertComp(props){\n    const classes = useStyles();\n    const {errors, closeAlert} = props;\n    const list = <ul>\n        {\n            errors.map((err, index) => <li key={index}>{err}</li>)\n        }\n    </ul>;\n    return (\n        <div className={classes.root}>\n            <Alert severity=\"error\" onClose={() => closeAlert([])}>{list}</Alert>\n        </div>\n    );\n}","import React from \"react\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    \"& > * + *\": {\n      marginTop: theme.spacing(2),\n    },\n  },\n}));\n\nexport default function SuccessAlert(props) {\n  const classes = useStyles();\n  const { closeAlert } = props;\n\n  return (\n    <div className={classes.root}>\n      <Alert severity='success' onClose={() => closeAlert(false)}>\n        Formular er sendt\n      </Alert>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\n\nlet data = {\n  ansoeger_mail: \"\",\n  ansoeger_navn: \"\",\n  ansoeger_tlf: \"\",\n  ansoegn_indsendt: \"\",\n  ansvarl_kontaktmail: \"\",\n  ansvarl_kontaktpers: \"\",\n  ansvarl_kontaktlf: \"\",\n  overnat_adresse: \"\",\n  overnat_postnr: \"\",\n  overnat_by: \"\",\n  overnat_antal: \"\",\n  overnat_kommune: \"\",\n  overnat_lokaler: \"\",\n  overnat_navn: \"\",\n  overnat_over_150: false,\n  overnat_slut_dato: new Date(),\n  overnat_slut_tid: new Date(),\n  overnat_start_dato: new Date(),\n  overnat_start_tid: new Date(),\n  overnat_tegning: \"\",\n  overnat_tegning_filnavn: \"\",\n  the_geom: \"\",\n  x_coord: \"\",\n  y_coord: \"\",\n  overnat_kontaktpers: \"\",\n  overnat_kontakttlf: \"\",\n};\n\nconst FormularContext = React.createContext([{}, () => {}, () => {}, () => {}]);\n\nconst FormularProvider = (props) => {\n  const [state, setState] = useState(data);\n  const [imageSrc, setImageSrc] = useState(\"\");\n  const setValue = (key, value) => {\n    setState((prevState) => ({\n      ...prevState,\n      [key]: value,\n    }));\n  };\n\n  const resetForm = () => setState(data);\n\n  const setValues = (keyValues) => {\n    Object.keys(keyValues).forEach((k) => {\n      setValue(k, keyValues[k]);\n    });\n  };\n\n  return (\n    <FormularContext.Provider value={[state, setValue, setValues, resetForm]}>\n      {props.children}\n    </FormularContext.Provider>\n  );\n};\n\nexport { FormularContext, FormularProvider };\n","import React, { useContext } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { FormularContext } from \"../context/FormContext\";\n\nexport default function TextInput(props) {\n  const { size, id, title, type, evtHandler } = props;\n  const [state, setValue, setValues] = useContext(FormularContext);\n  const handleChange = (e, id) => {\n    setValue(id, e.target.value);\n  };\n\n  return (\n    <Grid item xs={size}>\n      <TextField\n        id={id}\n        type={type || \"text\"}\n        value={state[id]}\n        InputLabelProps={{ shrink: true }}\n        label={\n          <Typography variant='h6' component='h3'>\n            {title}\n          </Typography>\n        }\n        onChange={(e) => handleChange(e, id)}\n        fullWidth\n      />\n    </Grid>\n  );\n}\n","import React, { useContext, useRef } from \"react\";\nimport { Grid, Chip, Typography, IconButton } from \"@material-ui/core\";\nimport PhotoCameraIcon from \"@material-ui/icons/PhotoCamera\";\nimport { FormularContext } from \"../context/FormContext\";\n\nconst _substr = (str) => {\n  if (str.length > 25) {\n    return \"...\" + str.substring(str.length - 22);\n  }\n  return str;\n};\n\nexport default function ImageUpload({ setImageSrc }) {\n  const fileRef = React.useRef(null);\n  const [state, setValue, setValues] = useContext(FormularContext);\n  const { overnat_tegning_filnavn } = state;\n  const deleteImage = () => {\n    setValues({\n      // imageSrc: \"\",\n      overnat_tegning_filnavn: \"\",\n    });\n    fileRef.current.value = \"\";\n    setImageSrc(\"\");\n  };\n\n  const reader = new FileReader();\n  const handleImageUpload = (e) => {\n    console.log(\"file upload: \", e.target.files[0].name);\n    let file = e.target.files[0];\n    let name = e.target.files[0].name;\n    // fileName = name;\n\n    setValue(\"overnat_tegning_filnavn\", e.target.files[0].name);\n\n    if (file) {\n      reader.onload = handleReaderLoaded;\n      // reader.readAsBinaryString(file);\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleReaderLoaded = (e) => {\n    let binaryString = e.target.result;\n    console.log(\"before setImageSrc\");\n    setImageSrc(reader.result);\n    setValue(\"overnat_tegning\", reader.result.replace(/^data:.+;base64,/, \"\"));\n    // setData({\n    //   ...data,\n    //   overnat_tegning : btoa(binaryString)\n    // });\n  };\n\n  return (\n    <>\n      <Grid item xs={5}>\n        <Typography\n          style={{ color: \"rgba(0, 0, 0, 0.54)\" }}\n          variant='subtitle1'\n          component='h3'\n        >\n          Vedhæft tegningsmateriale{\" \"}\n        </Typography>\n      </Grid>\n      <Grid item xs={2}>\n        <label htmlFor='upload-photo'>\n          <input\n            style={{ display: \"none\" }}\n            id='upload-photo'\n            name='upload-photo'\n            type='file'\n            accept='.jpeg,.jpg,.png'\n            onChange={handleImageUpload}\n            ref={fileRef}\n          />\n\n          <IconButton\n            color='primary'\n            aria-label='upload fil'\n            onClick={(e) => fileRef.current && fileRef.current.click()}\n          >\n            <PhotoCameraIcon />\n          </IconButton>\n        </label>\n      </Grid>\n      <Grid item xs={5}>\n        {overnat_tegning_filnavn && (\n          <Chip\n            variant='outlined'\n            label={_substr(overnat_tegning_filnavn)}\n            size='medium'\n            color='secondary'\n            onDelete={(x) => deleteImage()}\n          />\n        )}\n      </Grid>\n    </>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { KeyboardTimePicker, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Grid } from \"@material-ui/core\";\nimport { FormularContext } from \"../context/FormContext\";\n\nfunction DateInput({ size, id, title, label }) {\n  const [state, setValue, setValues] = useContext(FormularContext);\n  const handleDateChange = (date) => {\n    if (date < new Date()) return;\n\n    switch (id) {\n      case \"overnat_start_dato\":\n        let startDate = new Date(date);\n        let slutDato = new Date(state.overnat_slut_dato);\n        let endDate = slutDato < startDate ? startDate : slutDato;\n        setValues({\n          overnat_start_dato: startDate,\n          overnat_slut_dato: endDate,\n          overnat_start_tid: startDate,\n          overnat_slut_tid: endDate,\n        });\n        break;\n      case \"overnat_slut_dato\":\n        if (new Date(date) < new Date(state.overnat_start_dato)) return;\n        setValue(\"overnat_slut_dato\", new Date(date));\n        setValue(\"overnat_slut_tid\", new Date(date));\n        break;\n      default:\n        return;\n    }\n  };\n  return (\n    <Grid item xs={size}>\n      <KeyboardDatePicker\n        format='yyyy-MM-dd'\n        margin='normal'\n        id={id}\n        label={\n          <Typography variant='h6' component='h3'>\n            {title}\n          </Typography>\n        }\n        value={state[id]}\n        onChange={handleDateChange}\n        KeyboardButtonProps={{\n          \"aria-label\": { label },\n        }}\n        cancelLabel='Annulere'\n      />\n    </Grid>\n  );\n}\n\nfunction TimeInput({ size, id, title, label }) {\n  const [state, setValue, setValues] = useContext(FormularContext);\n  const handleTimeChange = (time) => {\n    setValue(id, new Date(time));\n  };\n\n  return (\n    <Grid item xs={size}>\n      <KeyboardTimePicker\n        margin='normal'\n        id={id}\n        label={\n          <Typography variant='h6' component='h3'>\n            {title}\n          </Typography>\n        }\n        ampm={false}\n        value={state[id]}\n        onChange={handleTimeChange}\n        KeyboardButtonProps={{\n          \"aria-label\": \"ændre tidspunkt\",\n        }}\n      />\n    </Grid>\n  );\n}\n\nexport default function DateTimeInputs() {\n  return (\n    <>\n      <DateInput id='overnat_start_dato' title='Start dato' size={6} />\n      <TimeInput id='overnat_start_tid' title='Start tidspunkt' size={6} />\n      <DateInput id='overnat_slut_dato' title='Slut dato' size={6} />\n      <TimeInput id='overnat_slut_tid' title='Slut tidspunkt' size={6} />\n    </>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { Grid, TextField, Typography, MenuItem } from \"@material-ui/core\";\nimport { FormularContext } from \"../context/FormContext\";\n\nconst kommuner = [\n  {\n    value: \"Aarhus\",\n    nummer: 751,\n  },\n  {\n    value: \"Favrskov\",\n    nummer: 710,\n  },\n  {\n    value: \"Noordjurs\",\n    nummer: 707,\n  },\n  {\n    value: \"Odder\",\n    nummer: 727,\n  },\n  {\n    value: \"Samsø\",\n    nummer: 741,\n  },\n  {\n    value: \"Skanderborg\",\n    nummer: 746,\n  },\n  {\n    value: \"Syddjurs\",\n    nummer: 706,\n  },\n  {\n    value: \"Randers\",\n    nummer: 730,\n  },\n];\n\nexport default function SelectInput({\n  size,\n  id,\n  title,\n  setKomkode,\n  setAdresseTekst,\n}) {\n  const [state, setValue, setValues] = useContext(FormularContext);\n  const handleSelect = (e) => {\n    const [nr, val] = e.target.value.split(\"_\");\n    setValues({\n      overnat_kommune: e.target.value,\n      overnat_adresse: \"\",\n      the_geom: \"\",\n    });\n    setKomkode(nr);\n    setAdresseTekst(\"\");\n  };\n\n  return (\n    <Grid item xs={size}>\n      <TextField\n        id={id}\n        select\n        value={state.overnat_kommune}\n        InputLabelProps={{ shrink: true }}\n        label={\n          <Typography variant='h6' component='h3'>\n            {title}\n          </Typography>\n        }\n        onChange={handleSelect}\n        fullWidth\n      >\n        {kommuner.map((option) => (\n          <MenuItem\n            key={option.nummer}\n            value={`${option.nummer}_${option.value}`}\n          >\n            {option.value}\n          </MenuItem>\n        ))}\n      </TextField>\n    </Grid>\n  );\n}\n","import React from \"react\";\nimport { Grid, Button } from \"@material-ui/core\";\n\nexport default function SubmitButton({ onClick }) {\n  return (\n    <>\n      <Grid item xs={4}></Grid>\n      <Grid item xs={4}>\n        <Button variant='contained' color='primary' onClick={onClick}>\n          Send\n        </Button>\n      </Grid>\n      <Grid item xs={4}></Grid>\n    </>\n  );\n}\n","import React, { useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Container from \"@material-ui/core/Container\";\nimport { Checkbox, Typography } from \"@material-ui/core\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport daLocale from \"date-fns/locale/da\";\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport * as yup from \"yup\";\nimport DawaSearcher from \"./DawaSearcher\";\nimport ErrorComp from \"./ErrorComp\";\nimport SuccessAlert from \"./SuccessAlert\";\nimport TextInput from \"./components/TextInput\";\nimport { FormularContext } from \"./context/FormContext\";\nimport ImageUpload from \"./components/ImageUpload\";\nimport DateTimeInputs from \"./components/DateInput\";\nimport SelectInput from \"./components/SelectInput\";\nimport SubmitButton from \"./components/SubmitButton\";\nimport { postData, postFormData } from \"./service\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: \"center\",\n    color: theme.palette.text.secondary,\n    margin: 25,\n  },\n}));\n\nconst buildQuery = (data) => {\n  const keys = Object.keys(data);\n  const columns = keys.join(\",\");\n  const values = keys\n    .map((key) => {\n      if (\n        key === \"overnat_start_dato\" ||\n        key === \"overnat_slut_dato\" ||\n        key === \"overnat_start_tid\" ||\n        key === \"ansoegn_indsendt\" ||\n        key === \"overnat_slut_tid\"\n      ) {\n        return `'${formatedTimestamp(data[key])}'`;\n      }\n      if (key === \"the_geom\") return `${data[key]}`;\n\n      return `'${data[key]}'`;\n    })\n    .join(\",\");\n  return `INSERT INTO faelles.midlertidig_overnatning(${columns}) VALUES(${values})`;\n};\n\nconst formatedTimestamp = (d) => {\n  const date = new Date(d).toISOString().split(\"T\")[0];\n  const time = new Date(d).toTimeString().split(\" \")[0];\n  return `${date} ${time}`;\n};\n\nfunction Formular() {\n  const [state, setValue, setValues, resetForm] = useContext(FormularContext);\n  const fileRef = React.useRef(null);\n  const classes = useStyles();\n  const [data, setData] = useState({\n    ansoeger_mail: \"\",\n    ansoeger_navn: \"\",\n    ansoeger_tlf: \"\",\n    ansoegn_indsendt: \"\",\n    ansvarl_kontaktmail: \"\",\n    ansvarl_kontaktpers: \"\",\n    ansvarl_kontaktlf: \"\",\n    overnat_adresse: \"\",\n    overnat_antal: \"\",\n    overnat_kommune: \"\",\n    overnat_lokaler: \"\",\n    overnat_navn: \"\",\n    overnat_over_150: false,\n    overnat_slut_dato: new Date().toISOString(),\n    overnat_slut_tid: new Date().toISOString(),\n    overnat_start_dato: new Date().toISOString(),\n    overnat_start_tid: new Date().toISOString(),\n    overnat_tegning: \"\",\n    overnat_tegning_filnavn: \"\",\n    the_geom: \"\",\n    gid: \"\",\n    file: \"\",\n  });\n\n  let schema = yup.object().shape({\n    ansoeger_mail: yup.string().required(),\n    ansoeger_navn: yup.string().required(),\n    ansoeger_tlf: yup\n      .string()\n      .matches(/^[0-9]{8}$/, \"telefonnr skal have 8 tal\"),\n    ansvarl_kontaktmail: yup.string().email().required(),\n    ansvarl_kontaktpers: yup.string().required(),\n    ansvarl_kontaktlf: yup\n      .string()\n      .matches(/^[0-9]{8}$/, \"telefonnr skal have 8 tal\"),\n    overnat_adresse: yup.string().min(1),\n    overnat_antal: yup.number().positive().integer(),\n    overnat_kommune: yup.string().required(),\n    overnat_lokaler: yup.string().required(),\n    overnat_navn: yup.string().required(),\n    overnat_over_150: yup.string().required(),\n    // overnat_tegning : yup.string().required(),\n    // overnat_tegning_filnavn : yup.string().required(),\n    overnat_slut_dato: yup.string().required(),\n    overnat_slut_tid: yup.string().required(),\n    overnat_start_dato: yup.string().required(),\n    overnat_start_tid: yup.string().required(),\n  });\n\n  const [komkode, setKomkode] = useState(\"751|741|727|746\");\n  const [imageSrc, setImageSrc] = useState(\"\");\n  const [formErrors, setFormErrors] = useState([]);\n  const [successMessage, setSuccessMessage] = useState(false);\n\n  // const handleInputChange = (e) => {};\n\n  // const { register, handleSubmit, watch, errors } = useForm();\n  // const onSubmit = (data) => console.log(data);\n  // const [selectedDate, setSelectedDate] = React.useState(new Date());\n\n  // const deleteImage = () => {\n  //   setData({\n  //     ...data,\n  //     overnat_tegning_filnavn: \"\",\n  //   });\n\n  //   setImageSrc(\"\");\n  // };\n\n  // const handleDateChange = (date) => {\n  //   setSelectedDate(date);\n  // };\n\n  // const handleStartDate = (date) => {\n  //   let startDate = new Date(date);\n  //   let slutDato = new Date(data.overnat_slut_dato);\n  //   let endDate = slutDato < startDate ? startDate : slutDato;\n  //   console.log(\"startDate :\", startDate, \" , endDate : \", endDate);\n  //   setData({\n  //     ...data,\n  //     overnat_start_dato: startDate.toISOString(),\n  //     overnat_slut_dato: endDate.toISOString(),\n  //   });\n  // };\n\n  // const handleStartTime = (date) => {\n  //   setData({\n  //     ...data,\n  //     overnat_start_tid: new Date(date).toISOString(),\n  //   });\n  // };\n\n  // const handleEndDate = (date) => {\n  //   let endDate = new Date(date);\n  //   let startDate = new Date(data.overnat_start_dato);\n  //   setData({\n  //     ...data,\n  //     overnat_slut_dato: new Date(date).toISOString(),\n  //   });\n  // };\n\n  // const handleEndTime = (date) => {\n  //   setData({\n  //     ...data,\n  //     overnat_slut_tid: new Date(date).toISOString(),\n  //   });\n  // };\n\n  // const handleSelect = (e) => {\n  //   const [nr, val] = e.target.value.split(\"_\");\n  //   console.log(\"kommune selected: \", e.target.value);\n  //   setData({\n  //     ...data,\n  //     overnat_kommune: e.target.value,\n  //     overnat_adresse: \"\",\n  //     the_geom: \"\",\n  //   });\n  //   setKomkode(nr);\n  //   setAdresseTekst(\"\");\n  // };\n\n  const setAdressData = (adress) => {\n    //console.log(`[${adress.adgangsadresse.x},${adress.adgangsadresse.x}]`);\n    // if (adress === \"\") {\n    //   setData({\n    //     ...data,\n    //     overnat_adresse: \"\",\n    //     the_geom: \"\",\n    //   });\n    // } else {\n    //   setData({\n    //     ...data,\n    //     overnat_adresse: adress.tekst,\n    //     the_geom: `[${adress.adgangsadresse.x},${adress.adgangsadresse.y}]`, // TODO: post geometry\n    //   });\n    // }\n    //ST_setsrid(ST_MakePoint(lat,long),4326) as geom\n    //the_geom: `[${adress.adgangsadresse.x},${adress.adgangsadresse.y}]`,\n\n    if (adress === \"\") {\n      setValues({\n        overnat_adresse: \"\",\n        overnat_postnr: \"\",\n        overnat_by: \"\",\n        the_geom: \"\",\n        x_coord: \"\",\n        y_coord: \"\",\n      });\n    } else {\n      let streetname = adress.tekst.split(\",\");\n      let adressname = streetname.length > 0 ? streetname[0] : adress.tekst;\n      setValues({\n        overnat_adresse: adressname,\n        overnat_postnr: adress.adgangsadresse.postnr,\n        overnat_by: adress.adgangsadresse.postnrnavn,\n        the_geom: `ST_setsrid(ST_MakePoint(${adress.adgangsadresse.x},${adress.adgangsadresse.y}),25832)`,\n        x_coord: adress.adgangsadresse.x,\n        y_coord: adress.adgangsadresse.y,\n      });\n    }\n  };\n\n  // const handleFormData = (e) => {\n  //   console.log(e.target.id, \":\", e.target.value);\n  //   setData({\n  //     ...data,\n  //     [e.target.id]: e.target.value,\n  //   });\n  // };\n\n  const handleCheckBox = (e) => {\n    console.log(\"handleCheckbox => \", e.target.value);\n    setValue(\"overnat_over_150\", e.target.checked);\n  };\n\n  const [adresseTekst, setAdresseTekst] = useState(\"\");\n\n  const submitHandler = (e) => {\n    /*\n     * 1. collect all the data to send, including base64 string\n       2. create geom ST_setsrid(ST_MakePoint(lat,long),4326) as geom\n       3. build sql, axios.post\n       4. Success or Error => show feedback \n     */\n    // console.log(data);\n    const formData = {\n      ...state,\n      ansoegn_indsendt: new Date(),\n    };\n    console.log(\"ansøgning\", formData);\n    schema\n      .validate(formData, { abortEarly: false })\n      .then(function (valid) {\n        //alert(\"schame validity =>\" + valid);\n        const q = buildQuery(formData);\n        //postData(q)\n        postFormData(formData)\n          .then((res) => {\n            setSuccessMessage(true);\n            setFormErrors([]);\n            setAdresseTekst(\"\");\n            setKomkode(\"751|741|727|746\");\n            resetForm();\n            window.scrollTo({ top: 0, behavior: \"smooth\" });\n          })\n          .catch((err) => {\n            setFormErrors([\"Der var fejl ved indsending...\"]);\n            setSuccessMessage(false);\n            window.scrollTo({ top: 0, behavior: \"smooth\" });\n          });\n      })\n      .catch(function (err) {\n        console.log(err.errors);\n        setFormErrors(err.errors);\n        window.scrollTo({ top: 0, behavior: \"smooth\" });\n      });\n  };\n\n  return (\n    <MuiPickersUtilsProvider utils={DateFnsUtils} locale={daLocale}>\n      <Container maxWidth='sm'>\n        <Typography variant='h6' gutterBottom>\n          Ansøg om midlertidig overnatning\n        </Typography>\n        {formErrors.length > 0 && (\n          <ErrorComp errors={formErrors} closeAlert={setFormErrors} />\n        )}\n\n        {successMessage && <SuccessAlert closeAlert={setSuccessMessage} />}\n\n        <Grid container spacing={3}>\n          <SelectInput\n            size={12}\n            id='overnat_kommune'\n            title='Hvilken kommune'\n            setKomkode={setKomkode}\n            setAdresseTekst={setAdresseTekst}\n          />\n          <DawaSearcher\n            size={12}\n            setAdressData={setAdressData}\n            komkode={komkode}\n            adresseTekst={adresseTekst}\n            setAdresseTekst={setAdresseTekst}\n          />\n          <TextInput\n            size={12}\n            id='overnat_navn'\n            title='Overnatningstedets Navn'\n          />\n          <TextInput size={12} id='overnat_lokaler' title='Lokaler' />\n          <Grid item xs={6}>\n            <Typography\n              style={{ color: \"rgba(0, 0, 0, 0.54)\" }}\n              variant='subtitle1'\n              component='h3'\n            >\n              Overnatter mere end 50 personer{\" \"}\n            </Typography>\n          </Grid>\n          <Grid item xs={6}>\n            <Checkbox\n              color='primary'\n              checked={state.overnat_over_150}\n              onChange={handleCheckBox}\n            />\n          </Grid>\n          {state.overnat_over_150 && <ImageUpload setImageSrc={setImageSrc} />}\n          <TextInput\n            size={12}\n            id='overnat_antal'\n            type='number'\n            title='Maksimal antal overnatninger'\n          />\n          <DateTimeInputs />\n          <TextInput size={12} id='ansoeger_navn' title='Ansøger navn' />\n          <TextInput\n            type='number'\n            size={6}\n            id='ansoeger_tlf'\n            title='Ansøger tlf.'\n          />\n          <TextInput size={6} id='ansoeger_mail' title='Ansøger mail' />\n          <Grid item xs={12}></Grid>\n          <TextInput\n            size={12}\n            id='ansvarl_kontaktpers'\n            title='Navn ansvarlig'\n          />\n          <TextInput\n            type='number'\n            size={6}\n            id='ansvarl_kontaktlf'\n            title='Tlf. ansvarlig'\n          />\n          <TextInput\n            size={6}\n            id='ansvarl_kontaktmail'\n            title='E-mail ansvarlig'\n          />\n\n          <SubmitButton onClick={submitHandler} />\n        </Grid>\n      </Container>\n    </MuiPickersUtilsProvider>\n  );\n}\nexport default Formular;\n","import axios from \"axios\";\n\nconst url = \"https://geocloud.beredskabskort.dk/api/v2/sql/geo\";\nconst url1 = \"http://localhost:8080/extensions/beredskab/controller/formular\";\nconst key = \"fbb2d411cfbc7b706c02359402afe195\";\nconst extUrl =\n  \"https://geocloud.beredskabskort.dk/extensions/beredskab/controller/formular\";\n\nexport const postData = (query) => {\n  const payload = { q: query, key: key, srs: \"25832\" };\n  return axios.post(url, payload);\n};\n\nexport const postFormData = (data) => {\n  data[\"overnat_over_150\"] = data[\"overnat_over_150\"].toString();\n  return axios.post(extUrl, data);\n};\n","import React from \"react\";\nimport Formular from \"./Formular\";\nimport { FormularProvider } from \"./context/FormContext\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className='App'>\n      <FormularProvider>\n        <Formular />\n      </FormularProvider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}